<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RoomEase</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Stylesheet -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Main App Container -->
    <div class="app-container">
        
        <!-- HOME PAGE -->
        <section id="home-page" class="page active">
            <!-- Header Hero -->
            <header class="page-header hero">
                <img src="icons/logo.png" alt="RoomEase Logo" class="app-logo logo-light">
                <img src="icons/darklogo.png" alt="RoomEase Logo" class="app-logo logo-dark">
                <div class="header-content-right">
                    <h1 class="group-name">RoomEase</h1>
                    <p class="tagline">Small Updates, Big Harmony.</p>
                    <div class="avatar-stack">
                        <div class="avatar" style="background: linear-gradient(135deg, #356496);">JC</div>
                        <div class="avatar" style="background: linear-gradient(135deg, #d86060);">AC</div>
                        <div class="avatar" style="background: linear-gradient(135deg, #169530);">TZ</div>
                        <div class="avatar" style="background: linear-gradient(135deg, #e49449);">AA</div>
                        <div class="avatar" style="background: linear-gradient(135deg, #d768ba);">RS</div>
                    </div>
                </div>
            </header>

            <!-- Desktop 2-Column Layout Wrapper -->
            <div class="home-grid">
                <!-- Left Column -->
                <div class="home-left">
                    <!-- Today at a Glance -->
                    <div class="glance-widget card">
                        <h3 class="section-title">Today's To-Do</h3>
                        <div class="glance-content">
                            <div class="next-task">
                                <i class="fas fa-clock icon-accent"></i>
                                <div class="task-info">
                                    <p class="task-title">Take out garbage</p>
                                    <p class="task-meta">Tonight 10 PM â€¢ Assigned to You</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Fairness Overview Card -->
                    <div class="fairness-card card">
                        <h3 class="section-title">Fairness Overview</h3>
                        <div class="fairness-display">
                            <div class="fairness-ring">
                                <svg width="180" height="180" viewBox="0 0 180 180">
                                    <circle cx="90" cy="90" r="72" class="ring-bg" />
                                    <circle cx="90" cy="90" r="72" class="ring-progress" id="fairness-circle" 
                                            style="stroke-dasharray: 452.4; stroke-dashoffset: 113.1;" />
                                </svg>
                                <div class="ring-label">
                                    <span class="ring-value">75%</span>
                                    <span class="ring-text">Fair</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Mini Calendar Strip -->
                    <div class="calendar-strip card">
                        <div class="calendar-month-header">
                            November 2025
                        </div>
                        <div class="calendar-weekdays">
                            <div class="calendar-weekday">Sun</div>
                            <div class="calendar-weekday">Mon</div>
                            <div class="calendar-weekday">Tue</div>
                            <div class="calendar-weekday">Wed</div>
                            <div class="calendar-weekday">Thu</div>
                            <div class="calendar-weekday">Fri</div>
                            <div class="calendar-weekday">Sat</div>
                        </div>
                        <div class="calendar-days" id="calendar-days-container">
                            <!-- Will be populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Right Column -->
                <div class="home-right">
                    <!-- Activity Feed -->
                    <div class="activity-feed">
                        <h3 class="section-title">Activity Feed</h3>
                        <div id="feed-container">
                            <!-- Populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- TASKS PAGE -->
        <section id="tasks-page" class="page">
            <header class="page-header">
                <h1>Tasks</h1>
                <p class="subtitle">Assign, Repeat, and Check-off together!</p>
            </header>

            <!-- Add Task Button -->
            <button class="btn-large primary" id="main-add-task-btn" style="margin-bottom: var(--spacing-lg);">
                <i class="fas fa-plus"></i>
                Add Task
            </button>

            <!-- Desktop 2-Column Layout -->
            <div class="tasks-grid">
                <!-- Left: Filters -->
                <div class="tasks-sidebar">
                    <!-- Filter Tabs -->
                    <div class="filter-tabs">
                        <button class="filter-tab active" data-filter="my">My Tasks</button>
                        <button class="filter-tab" data-filter="all">All Tasks</button>
                        <button class="filter-tab" data-filter="completed">Completed</button>
                    </div>
                </div>

                <!-- Right: Task List -->
                <div class="tasks-main">
                    <!-- Task List -->
                    <div class="task-list" id="task-list-container">
                        <!-- Populated by JavaScript -->
                    </div>
                </div>
            </div>
        </section>

        <!-- EXPENSES PAGE -->
        <section id="expenses-page" class="page">
            <header class="page-header">
                <h1>Expenses</h1>
                <p class="subtitle">Split fairly, Track clearly!</p>
            </header>

            <!-- Balance Summary -->
            <div class="balance-summary">
                <div class="balance-card owe">
                    <div class="balance-icon">
                        <i class="fas fa-arrow-up"></i>
                    </div>
                    <div class="balance-info">
                        <p class="balance-label">You owe</p>
                        <p class="balance-amount">$25.00</p>
                    </div>
                </div>
                <div class="balance-card owed">
                    <div class="balance-icon">
                        <i class="fas fa-arrow-down"></i>
                    </div>
                    <div class="balance-info">
                        <p class="balance-label">You are owed</p>
                        <p class="balance-amount">$40.00</p>
                    </div>
                </div>
            </div>

            <!-- Add Expense Button -->
            <button class="btn-large primary" id="add-expense-btn">
                <i class="fas fa-plus"></i>
                Add Expense
            </button>

            <!-- Expense List -->
            <div class="expense-list" id="expense-list-container">
                <!-- Populated by JavaScript -->
            </div>
        </section>

        <!-- CHATS PAGE -->
        <section id="chats-page" class="page">
            <header class="page-header">
                <h1>Chats</h1>
                <p class="subtitle">Chat now, Fewer sticky notes later.</p>
                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Search conversations...">
                </div>
            </header>

            <!-- New Chat Button -->
            <button class="btn-large primary" id="new-chat-btn" style="margin-bottom: var(--spacing-lg);">
                <i class="fas fa-plus"></i>
                New Chat / Group
            </button>

            <!-- Desktop Split Layout -->
            <div class="chats-split-layout">
                <!-- Conversation List -->
                <div class="conversation-list" id="conversation-list-container">
                    <!-- Populated by JavaScript -->
                </div>

                <!-- Chat Preview (Desktop Only) -->
                <div class="chat-preview-desktop" id="chat-preview-desktop">
                    <div class="chat-empty-state">
                        <i class="fas fa-comments"></i>
                        <h3>Select a conversation</h3>
                        <p>Choose a chat from the list to view messages</p>
                    </div>
                    <div class="chat-preview-content" id="chat-preview-content" style="display: none;">
                        <div class="chat-header-desktop">
                            <h3 id="chat-title-desktop">House General</h3>
                            <button class="icon-btn" id="chat-settings-btn-desktop">
                                <i class="fas fa-gear"></i>
                            </button>
                        </div>
                        <div class="messages-container" id="messages-container-desktop">
                            <!-- Populated by JavaScript -->
                        </div>
                        <div class="message-input-area">
                            <input type="text" id="message-input-desktop" placeholder="Type a message...">
                            <button class="icon-btn primary" id="send-message-btn-desktop">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Chat View (Mobile Overlay) -->
            <div class="chat-view" id="chat-view" style="display: none;">
                <div class="chat-header">
                    <button class="icon-btn" id="back-to-chats">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h3 id="chat-title">Good Vibes only</h3>
                    <button class="icon-btn" id="chat-settings-btn-mobile">
                        <i class="fas fa-gear"></i>
                    </button>
                </div>
                <div class="messages-container" id="messages-container">
                    <!-- Populated by JavaScript -->
                </div>
                <div class="message-input-area">
                    <input type="text" id="message-input-mobile" placeholder="Type a message...">
                    <button class="icon-btn primary" id="send-message-btn-mobile">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- PROFILE PAGE -->
        <section id="profile-page" class="page">
            <!-- Desktop 2-Column Layout -->
            <div class="profile-grid">
                <!-- Left Column: Avatar & Basic Info -->
                <div class="profile-left">
                    <header class="page-header profile-header">
                        <div class="profile-avatar-large">
                            <img src="icons/janvi.svg" alt="Profile" style="width: 100%; height: 100%; object-fit: cover; border-radius: var(--radius-full);">
                        </div>
                        <h1>Janvi Chauhan</h1>
                        <p class="subtitle">abc@gmail.com</p>
                    </header>
                </div>

                <!-- Right Column: Stats & Details -->
                <div class="profile-right">
                    <!-- Stats -->
                    <div class="stats-section">
                        <h3 class="section-title">Your Stats</h3>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                                    <i class="fas fa-check"></i>
                                </div>
                                <p class="stat-value">12</p>
                                <p class="stat-label">Tasks This Week</p>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                                    <i class="fas fa-chart-pie"></i>
                                </div>
                                <p class="stat-value">28%</p>
                                <p class="stat-label">House Contribution</p>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
                                    <i class="fas fa-fire"></i>
                                </div>
                                <p class="stat-value">5 days</p>
                                <p class="stat-label">Current Streak</p>
                            </div>
                        </div>
                    </div>

                    <!-- Preferences -->
                    <div class="preferences-section">
                        <h3 class="section-title">Preferences</h3>
                        <div class="preference-item">
                            <div class="preference-info">
                                <i class="fas fa-circle-half-stroke"></i>
                                <span>Dark Mode</span>
                            </div>
                            <label class="toggle">
                                <input type="checkbox" id="theme-toggle">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="preference-item">
                            <div class="preference-info">
                                <i class="fas fa-bell"></i>
                                <span>Task Reminders</span>
                            </div>
                            <label class="toggle">
                                <input type="checkbox" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="preference-item">
                            <div class="preference-info">
                                <i class="fas fa-dollar-sign"></i>
                                <span>Expense Updates</span>
                            </div>
                            <label class="toggle">
                                <input type="checkbox" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="preference-item">
                            <div class="preference-info">
                                <i class="fas fa-moon"></i>
                                <span>Quiet Hours (10pm-8am)</span>
                            </div>
                            <label class="toggle">
                                <input type="checkbox">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                    </div>

                    <!-- House Info -->
                    <div class="house-info-section">
                        <h3 class="section-title">Your Roommates</h3>
                        <div class="roommate-list">
                            <div class="roommate-item">
                                <div class="avatar small" style="background: linear-gradient(135deg, #356496);">JC</div>
                                <div class="roommate-info">
                                    <p class="roommate-name">Janvi Chauhan</p>
                                </div>
                            </div>
                            <div class="roommate-item">
                                <div class="avatar small" style="background: linear-gradient(135deg, #d86060);">AC</div>
                                <div class="roommate-info">
                                    <p class="roommate-name">Aranya Chaudhary</p>
                                </div>
                            </div>
                            <div class="roommate-item">
                                <div class="avatar small" style="background: linear-gradient(135deg, #169530);">TZ</div>
                                <div class="roommate-info">
                                    <p class="roommate-name">Tamilla Zeynalova</p>
                                </div>
                            </div>
                            <div class="roommate-item">
                                <div class="avatar small" style="background: linear-gradient(135deg, #e49449);">AA</div>
                                <div class="roommate-info">
                                    <p class="roommate-name">Aaish Ahmed</p>
                                </div>
                            </div>
                            <div class="roommate-item">
                                <div class="avatar small" style="background: linear-gradient(135deg, #d768ba);">RS</div>
                                <div class="roommate-info">
                                    <p class="roommate-name">Rami Abu Sultan</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-btn active" data-page="home">
                <img src="icons/home.svg" alt="Home" class="custom-icon nav">
                <span>Home</span>
            </button>
            <button class="nav-btn active" data-page="tasks">
                <img src="icons/task.svg" alt="Tasks" class="custom-icon nav">
                <span>Tasks</span>
            </button>
            <button class="nav-btn active" data-page="expenses">
                <img src="icons/expenses.svg" alt="Expenses" class="custom-icon nav">
                <span>Expenses</span>
            </button>
            <button class="nav-btn active" data-page="chats">
                <img src="icons/chats.svg" alt="chats" class="custom-icon nav">
                <span>Chats</span>
            </button>
            <button class="nav-btn active" data-page="profile">
                <img src="icons/profile.svg" alt="Profile" class="custom-icon nav">
                <span>Profile</span>
            </button>
        </nav>

    </div>

    <!-- Modal for Quick Actions -->
    <div class="modal" id="action-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Create New Task</h3>
                <button class="icon-btn" id="close-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Task Name</label>
                    <input type="text" placeholder="e.g., Clean kitchen">
                </div>
                <div class="form-group">
                    <label>Assign To</label>
                    <select>
                        <option>You</option>
                        <option>Aranya Chaudhary</option>
                        <option>Tamilla Zeynalova</option>
                        <option>Aaish Ahmed</option>
                        <option>Rami Abu Sultan</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Due Date</label>
                    <input type="date">
                </div>
                <button class="btn-large primary">Create Task (Demo)</button>
                <p class="modal-note">This is a prototype. No data will be saved.</p>
            </div>
        </div>
    </div>

    <!-- Modal for Task Management -->
    <div class="modal" id="task-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="task-modal-title">Add New Task</h3>
                <button class="icon-btn" id="close-task-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="task-form">
                    <div class="form-group">
                        <label>Task Title</label>
                        <input type="text" id="task-title" placeholder="e.g., Clean kitchen" required>
                    </div>
                    <div class="form-group">
                        <label>Description</label>
                        <textarea id="task-description" placeholder="Optional details, e.g. &quot;Deep clean kitchen counters and stove&quot;" rows="3" style="width: 100%; padding: var(--spacing-md); border: 1px solid var(--border-soft); border-radius: var(--radius-md); font-size: 0.95rem; background: var(--bg-root); box-shadow: var(--shadow-inset); color: var(--text-primary); font-family: inherit; resize: vertical;"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Urgency (Optional)</label>
                        <select id="task-urgency">
                            <option value="">None</option>
                            <option value="high">High</option>
                            <option value="moderate">Moderate</option>
                            <option value="low">Low</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Assign To: </label>
                        <div class="checkbox-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="task-assignees" value="1">
                                <span>Janvi Chauhan (You)</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="task-assignees" value="2">
                                <span>Aranya Chaudhary</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="task-assignees" value="3">
                                <span>Tamilla Zeynalova</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="task-assignees" value="4">
                                <span>Aaish Ahmed</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="task-assignees" value="5">
                                <span>Rami Abu Sultan</span>
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Due Date</label>
                        <input type="date" id="task-due-date" required>
                    </div>
                    <div class="form-group">
                        <label>Repeat</label>
                        <select id="task-recurrence" required>
                            <option value="one-time">One-time</option>
                            <option value="weekly">Weekly</option>
                            <option value="monthly">Monthly</option>
                        </select>
                    </div>
                    <button type="submit" class="btn-large primary">Save Task</button>
                    <button type="button" class="btn-large" id="cancel-task-btn" style="background: var(--text-muted); color: white; margin-top: -0.5rem;">Cancel</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal for Expense Management -->
    <div class="modal" id="expense-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="expense-modal-title">Add Expense</h3>
                <button class="icon-btn" id="close-expense-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="expense-form">
                    <div class="form-group">
                        <label>Description</label>
                        <input type="text" id="expense-description" placeholder="e.g., Groceries at Metro" required>
                    </div>
                    <div class="form-group">
                        <label>Amount ($)</label>
                        <input type="number" id="expense-amount" placeholder="0.00" step="0.01" min="0" required>
                    </div>
                    <div class="form-group">
                        <label>Paid By</label>
                        <select id="expense-payer" required>
                            <option value="">Select roommate</option>
                            <option value="Janvi Chauhan">Janvi Chauhan</option>
                            <option value="Aranya Chaudhary">Aranya Chaudhary</option>
                            <option value="Tamilla Zeynalova">Tamilla Zeynalova</option>
                            <option value="Aaish Ahmed">Aaish Ahmed</option>
                            <option value="Rami Abu Sultan">Rami Abu Sultan</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Split Between</label>
                        <div class="checkbox-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="participants" value="Janvi Chauhan" checked>
                                <span>Janvi Chauhan (You)</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="participants" value="Aranya Chaudhary" checked>
                                <span>Aranya Chaudhary</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="participants" value="Tamilla Zeynalova" checked>
                                <span>Tamilla Zeynalova</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="participants" value="Aaish Ahmed" checked>
                                <span>Aaish Ahmed</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="participants" value="Rami Abu Sultan" checked>
                                <span>Rami Abu Sultan</span>
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Date</label>
                        <input type="date" id="expense-date" required>
                    </div>
                    <div class="form-group">
                        <label>Status</label>
                        <select id="expense-status" required>
                            <option value="Pending">Pending</option>
                            <option value="Settled">Settled</option>
                        </select>
                    </div>
                    <button type="submit" class="btn-large primary" id="save-expense-btn">Save Expense</button>
                    <button type="button" class="btn-large" id="cancel-expense-btn" style="background: var(--text-muted); color: white; margin-top: -0.5rem;">Cancel</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal for New Chat/Group Creation -->
    <div class="modal" id="new-chat-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>New Conversation</h3>
                <button class="icon-btn" id="close-new-chat-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <!-- Choice View -->
                <div id="new-chat-choice">
                    <button class="btn-large primary" id="start-direct-chat-btn">
                        <i class="fas fa-user"></i>
                        Start 1-on-1 Chat
                    </button>
                    <button class="btn-large primary" id="start-group-chat-btn">
                        <i class="fas fa-users"></i>
                        Create New Group Chat
                    </button>
                </div>

                <!-- Direct Chat View -->
                <div id="new-chat-direct" style="display: none;">
                    <h4 style="margin-bottom: var(--spacing-md); color: var(--text-heading);">Select a roommate</h4>
                    <div id="roommates-list-direct" class="roommates-selection">
                        <!-- Populated by JavaScript -->
                    </div>
                    <p class="modal-note">Select a roommate to start chatting</p>
                </div>

                <!-- Group Chat View -->
                <div id="new-chat-group" style="display: none;">
                    <form id="group-chat-form">
                        <div class="form-group">
                            <label>Group Name</label>
                            <input type="text" id="group-chat-name" placeholder="e.g., Movie Night Planning" required>
                        </div>
                        <div class="form-group">
                            <label>Add Roommates</label>
                            <div id="roommates-list-group" class="checkbox-group">
                                <!-- Populated by JavaScript - each item will be a .modal-assignee-item -->
                            </div>
                        </div>
                        <button type="submit" class="btn-large primary">Create Group</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <i class="fas fa-info-circle"></i>
        <span id="toast-message">Action completed</span>
    </div>

    <!-- JavaScript -->
    <script src="script.js"></script>
</body>
</html>
